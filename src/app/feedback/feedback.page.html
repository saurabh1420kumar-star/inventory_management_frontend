<ion-header class="ion-no-border">
  <ion-toolbar class="bg-white/80 backdrop-blur-md border-b border-slate-100 sticky top-0 z-50">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" class="text-slate-600 hover:text-emerald-500 transition-colors">
        <ion-icon slot="icon-only" name="arrow-back-outline" class="text-xl"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="text-slate-800 font-bold tracking-tight text-xl">
      <span class="text-emerald-500">Feedback</span> & Complaints
    </ion-title>
    <ion-buttons slot="end">
      <ion-button class="text-slate-500 hover:text-blue-500 transition-colors bg-slate-50 rounded-full w-10 h-10">
        <ion-icon slot="icon-only" name="help-circle-outline" class="text-xl"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-slate-50">
  <div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-emerald-50/30 pb-20 sm:pb-20">
    <div class="max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8">
      
      <!-- HERO CARD -->
      <div class="fb-animate bg-gradient-to-r from-emerald-400 via-teal-400 to-blue-500 rounded-2xl sm:rounded-3xl shadow-lg shadow-emerald-200/40 overflow-hidden mb-5 sm:mb-8 relative">
        <div class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-white/10 blur-3xl"></div>
        <div class="absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 rounded-full bg-blue-500/20 blur-3xl"></div>

        <div class="relative px-5 sm:px-8 py-8 sm:py-10 text-center">
          <div class="flex justify-center mb-3 sm:mb-4">
            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-white/20 backdrop-blur-sm rounded-xl sm:rounded-2xl flex items-center justify-center">
              <ion-icon name="chatbubbles-outline" class="text-3xl sm:text-4xl text-white"></ion-icon>
            </div>
          </div>
          <h1 class="text-xl sm:text-3xl font-bold text-white mb-2 tracking-tight">We Value Your Voice</h1>
          <p class="text-emerald-50 text-xs sm:text-sm font-medium max-w-md mx-auto">
            Your feedback helps us improve. Share your thoughts, concerns, or suggestions below.
          </p>
        </div>
      </div>

      <!-- INFO CARDS -->
      <div class="grid grid-cols-3 gap-2 sm:gap-4 mb-5 sm:mb-8">
        <div class="fb-card-animate bg-white rounded-xl sm:rounded-2xl p-3 sm:p-5 shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-blue-100 text-center">
          <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-blue-50 flex items-center justify-center text-blue-500 mx-auto mb-2 sm:mb-3">
            <ion-icon name="time-outline" class="text-lg sm:text-2xl"></ion-icon>
          </div>
          <h3 class="text-slate-800 font-bold text-xs sm:text-sm mb-0.5 sm:mb-1">Quick Response</h3>
          <p class="text-slate-500 text-[0.6rem] sm:text-xs">Within 24-48 hours</p>
        </div>

        <div class="fb-card-animate bg-white rounded-xl sm:rounded-2xl p-3 sm:p-5 shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-emerald-100 text-center">
          <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-emerald-50 flex items-center justify-center text-emerald-500 mx-auto mb-2 sm:mb-3">
            <ion-icon name="shield-checkmark-outline" class="text-lg sm:text-2xl"></ion-icon>
          </div>
          <h3 class="text-slate-800 font-bold text-xs sm:text-sm mb-0.5 sm:mb-1">Confidential</h3>
          <p class="text-slate-500 text-[0.6rem] sm:text-xs">Your info is secure</p>
        </div>

        <div class="fb-card-animate bg-white rounded-xl sm:rounded-2xl p-3 sm:p-5 shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-purple-100 text-center">
          <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-purple-50 flex items-center justify-center text-purple-500 mx-auto mb-2 sm:mb-3">
            <ion-icon name="trending-up-outline" class="text-lg sm:text-2xl"></ion-icon>
          </div>
          <h3 class="text-slate-800 font-bold text-xs sm:text-sm mb-0.5 sm:mb-1">Action Taken</h3>
          <p class="text-slate-500 text-[0.6rem] sm:text-xs">We act on feedback</p>
        </div>
      </div>

      <!-- MAIN FORM CARD -->
      <div class="bg-white rounded-2xl sm:rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 overflow-hidden">
        
        <div class="px-4 sm:px-8 py-4 sm:py-6 border-b border-slate-100 flex items-center gap-2 sm:gap-3">
          <div class="bg-blue-50 p-2 rounded-lg">
            <ion-icon name="document-text-outline" class="text-blue-500 text-xl"></ion-icon>
          </div>
          <div>
            <h2 class="text-lg font-bold text-slate-800">Submit Your Feedback</h2>
            <p class="text-slate-400 text-sm">All fields marked with * are required</p>
          </div>
        </div>

        <div class="p-4 sm:p-8">
          <form [formGroup]="feedbackForm" (ngSubmit)="submit()" class="space-y-4 sm:space-y-6">

            <!-- TYPE SELECTION -->
            <div class="group">
              <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 ml-1">
                Type <span class="text-rose-500">*</span>
              </label>
              <ion-radio-group formControlName="type" class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-rose-300 cursor-pointer transition-all group bg-white hover:bg-rose-50/50">
                  <ion-radio value="complaint" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded-lg bg-rose-50 flex items-center justify-center text-rose-500 group-hover:scale-110 transition-transform">
                      <ion-icon name="alert-circle-outline"></ion-icon>
                    </div>
                    <span class="font-semibold text-slate-700">Complaint</span>
                  </div>
                </label>

                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-blue-300 cursor-pointer transition-all group bg-white hover:bg-blue-50/50">
                  <ion-radio value="feedback" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-500 group-hover:scale-110 transition-transform">
                      <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
                    </div>
                    <span class="font-semibold text-slate-700">Feedback</span>
                  </div>
                </label>

                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-emerald-300 cursor-pointer transition-all group bg-white hover:bg-emerald-50/50">
                  <ion-radio value="suggestion" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center text-emerald-500 group-hover:scale-110 transition-transform">
                      <ion-icon name="bulb-outline"></ion-icon>
                    </div>
                    <span class="font-semibold text-slate-700">Suggestion</span>
                  </div>
                </label>
              </ion-radio-group>
            </div>

            <!-- NAME & EMAIL -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
              <div class="group">
                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                  Full Name <span class="text-rose-500">*</span>
                </label>
                <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                  <ion-icon name="person-outline" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg"></ion-icon>
                  <ion-item lines="none" class="bg-transparent rounded-xl pl-10" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
                    <ion-input type="text" formControlName="name" placeholder="John Doe" class="px-4 py-2 text-slate-900"></ion-input>
                  </ion-item>
                </div>
              </div>

              <div class="group">
                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                  Email <span class="text-rose-500">*</span>
                </label>
                <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                  <ion-icon name="mail-outline" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg"></ion-icon>
                  <ion-item lines="none" class="bg-transparent rounded-xl pl-10" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
                    <ion-input type="email" formControlName="email" placeholder="john@example.com" class="px-4 py-2 text-slate-900"></ion-input>
                  </ion-item>
                </div>
              </div>
            </div>

            <!-- PHONE & CATEGORY -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
              <div class="group">
                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                  Phone Number
                </label>
                <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                  <ion-icon name="call-outline" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg"></ion-icon>
                  <ion-item lines="none" class="bg-transparent rounded-xl pl-10" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
                    <ion-input type="tel" formControlName="phone" placeholder="+1 (555) 000-0000" class="px-4 py-2 text-slate-900"></ion-input>
                  </ion-item>
                </div>
              </div>

              <div class="group">
                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                  Category <span class="text-rose-500">*</span>
                </label>
                <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                  <ion-select formControlName="category" placeholder="Select category" interface="popover" class="w-full px-4 py-3 text-slate-900 font-medium">
                    <ion-select-option value="product">üì¶ Product Quality</ion-select-option>
                    <ion-select-option value="service">üë• Customer Service</ion-select-option>
                    <ion-select-option value="delivery">üöö Delivery Issues</ion-select-option>
                    <ion-select-option value="billing">üí≥ Billing & Payment</ion-select-option>
                    <ion-select-option value="website">üíª Website / App</ion-select-option>
                    <ion-select-option value="other">üìù Other</ion-select-option>
                  </ion-select>
                </div>
              </div>
            </div>

            <!-- SUBJECT -->
            <div class="group">
              <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                Subject <span class="text-rose-500">*</span>
              </label>
              <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                <ion-icon name="text-outline" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg"></ion-icon>
                <ion-item lines="none" class="bg-transparent rounded-xl pl-10" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
                  <ion-input type="text" formControlName="subject" placeholder="Brief summary of your feedback" class="px-4 py-2 text-slate-900"></ion-input>
                </ion-item>
              </div>
            </div>

            <!-- PRIORITY -->
            <div class="group">
              <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 ml-1">
                Priority Level
              </label>
              <ion-radio-group formControlName="priority" class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-slate-300 cursor-pointer transition-all group bg-white">
                  <ion-radio value="low" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-slate-400"></div>
                    <span class="font-semibold text-slate-700">Low</span>
                  </div>
                </label>

                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-amber-300 cursor-pointer transition-all group bg-white hover:bg-amber-50/50">
                  <ion-radio value="medium" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-amber-500"></div>
                    <span class="font-semibold text-amber-700">Medium</span>
                  </div>
                </label>

                <label class="relative flex items-center p-4 rounded-xl border-2 border-slate-200 hover:border-rose-300 cursor-pointer transition-all group bg-white hover:bg-rose-50/50">
                  <ion-radio value="high" class="mr-3"></ion-radio>
                  <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-rose-500"></div>
                    <span class="font-semibold text-rose-700">High</span>
                  </div>
                </label>
              </ion-radio-group>
            </div>

            <!-- DESCRIPTION -->
            <div class="group">
              <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                Description <span class="text-rose-500">*</span>
              </label>
              <div class="relative bg-white rounded-xl border border-slate-200 focus-within:border-emerald-400 focus-within:ring-4 focus-within:ring-emerald-50 transition-all">
                <ion-item lines="none" class="bg-transparent rounded-xl" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
                  <ion-textarea
                    rows="6"
                    maxlength="2000"
                    formControlName="description"
                    placeholder="Please provide detailed information about your feedback or complaint..."
                    class="px-4 py-3 text-slate-900"
                  ></ion-textarea>
                </ion-item>
              </div>
              <div class="flex justify-between items-center mt-2 px-1">
                <p class="text-xs text-slate-400">Be as detailed as possible</p>
                <p class="text-xs font-mono font-semibold" [class.text-rose-500]="feedbackForm.value.description?.length >= 1900" [class.text-slate-500]="feedbackForm.value.description?.length < 1900">
                  {{ feedbackForm.value.description?.length || 0 }}/2000
                </p>
              </div>
            </div>

            <!-- BUTTONS -->
            <div class="flex flex-col sm:flex-row gap-3 pt-4">
              <ion-button 
                type="button"
                (click)="goBack()"
                expand="block"
                fill="clear"
                class="flex-1 h-12 font-semibold rounded-xl border-2 border-slate-200 text-slate-600 hover:bg-slate-50"
                style="--background: transparent; --background-hover: #f8fafc;"
              >
                <ion-icon slot="start" name="close-outline"></ion-icon>
                Cancel
              </ion-button>

              <ion-button 
                type="submit"
                expand="block"
                [disabled]="feedbackForm.invalid || isSubmitting"
                class="flex-1 h-12 font-bold rounded-xl overflow-hidden shadow-lg"
                [class.opacity-50]="feedbackForm.invalid || isSubmitting"
                style="--background: linear-gradient(135deg, #34d399 0%, #0ea5e9 100%); --border-radius: 12px; --box-shadow: none;"
              >
                <ion-spinner *ngIf="isSubmitting" name="dots" class="mr-2"></ion-spinner>
                <ion-icon *ngIf="!isSubmitting" slot="start" name="paper-plane-outline"></ion-icon>
                <span class="text-white">{{ isSubmitting ? 'Submitting...' : 'Submit Feedback' }}</span>
              </ion-button>
            </div>

          </form>
        </div>
      </div>

      <!-- CONTACT INFO -->
      <div class="mt-5 sm:mt-8 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-lg">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0">
            <ion-icon name="information-circle-outline" class="text-2xl"></ion-icon>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-2">Need Immediate Assistance?</h3>
            <p class="text-slate-300 text-sm leading-relaxed mb-3">
              For urgent matters, please contact our support team directly:
            </p>
            <div class="flex flex-wrap gap-4 text-sm">
              <div class="flex items-center gap-2">
                <ion-icon name="call-outline"></ion-icon>
                <span class="font-mono">+1 (555) 123-4567</span>
              </div>
              <div class="flex items-center gap-2">
                <ion-icon name="mail-outline"></ion-icon>
                <span class="font-mono">support@company.com</span>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</ion-content>