"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3844],{3844:(A,h,m)=>{m.r(h),m.d(h,{MasterInventoryPageModule:()=>O});var u=m(2200),s=m(9417),g=m(8132),b=m(7343),d=m(8898),x=m(7459),t=m(3664),l=m(2615);const v=(r,a)=>({"bg-blue-500 text-white":r,"bg-purple-500 text-white":a}),_=(r,a,o)=>({"bg-emerald-50 text-emerald-700 border border-emerald-200":r,"bg-amber-50 text-amber-700 border border-amber-200":a,"bg-rose-50 text-rose-700 border border-rose-200":o});function w(r,a){1&r&&(t.j41(0,"div",40),t.nrm(1,"ion-spinner",41),t.j41(2,"p",42),t.EFF(3,"Loading inventory..."),t.k0s()())}function y(r,a){if(1&r&&(t.j41(0,"div",43)(1,"div",44),t.nrm(2,"ion-icon",45),t.j41(3,"p",46),t.EFF(4),t.k0s()()()),2&r){const o=t.XpG();t.R7$(4),t.JRh(o.errorMessage)}}function k(r,a){if(1&r&&(t.j41(0,"div",49)(1,"div",50)(2,"div",51),t.nrm(3,"ion-icon",52),t.k0s()(),t.j41(4,"h3",53),t.EFF(5),t.k0s(),t.j41(6,"p",54),t.EFF(7),t.k0s()()),2&r){const o=a.$implicit;t.R7$(5),t.JRh(o.label),t.R7$(2),t.JRh(o.value)}}function F(r,a){if(1&r&&(t.j41(0,"div",47),t.DNE(1,k,8,2,"div",48),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.statCards)}}function I(r,a){1&r&&(t.j41(0,"span",82),t.nrm(1,"ion-icon",83),t.EFF(2," Low Stock Alert "),t.k0s())}function j(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",57)(1,"div",58),t.nrm(2,"img",59),t.j41(3,"div",60)(4,"span",61),t.EFF(5),t.k0s()()(),t.j41(6,"div",62)(7,"div",63)(8,"h3",64),t.EFF(9),t.k0s(),t.j41(10,"p",65),t.EFF(11),t.k0s()(),t.j41(12,"div",66)(13,"div",67)(14,"p",68),t.EFF(15,"Unit"),t.k0s(),t.j41(16,"p",69),t.EFF(17),t.k0s()(),t.j41(18,"div",67)(19,"p",68),t.EFF(20,"Quantity"),t.k0s(),t.j41(21,"p",69),t.EFF(22),t.k0s()()(),t.j41(23,"div",70)(24,"p",71),t.EFF(25,"Min Threshold"),t.k0s(),t.j41(26,"p",72),t.EFF(27),t.k0s()(),t.j41(28,"div",73)(29,"span",74),t.EFF(30),t.nI1(31,"uppercase"),t.k0s(),t.DNE(32,I,3,0,"span",75),t.k0s(),t.j41(33,"div",31)(34,"button",76),t.bIt("click",function(){const n=l.eBV(o).$implicit,i=t.XpG(2);return l.Njj(i.viewItem(n))}),t.nrm(35,"ion-icon",77),t.EFF(36," View "),t.k0s(),t.j41(37,"button",78),t.bIt("click",function(){const n=l.eBV(o).$implicit,i=t.XpG(2);return l.Njj(i.editItem(n))}),t.nrm(38,"ion-icon",79),t.EFF(39," Edit "),t.k0s(),t.j41(40,"button",80),t.bIt("click",function(){const n=l.eBV(o).$implicit,i=t.XpG(2);return l.Njj(i.deleteItem(n.id,n.category))}),t.nrm(41,"ion-icon",81),t.k0s()()()()}if(2&r){const o=a.$implicit;t.R7$(2),t.Y8G("src",o.imageUrl,t.B4B),t.R7$(2),t.Y8G("ngClass",t.l_i(13,v,"raw_material"===o.category,"finished_product"===o.category)),t.R7$(),t.SpI(" ","raw_material"===o.category?"Raw Material":"Finished Product"," "),t.R7$(4),t.JRh(o.name),t.R7$(2),t.SpI(" Code: ",o.materialCode," "),t.R7$(6),t.JRh(o.unit),t.R7$(5),t.JRh(o.quantity),t.R7$(5),t.JRh(o.minimumThreshold),t.R7$(2),t.Y8G("ngClass",t.sMw(16,_,"in_stock"===o.status,"low_stock"===o.status,"out_of_stock"===o.status)),t.R7$(),t.SpI(" ",t.bMT(31,11,o.status.replace("_"," "))," "),t.R7$(2),t.Y8G("ngIf",o.lowStock)}}function M(r,a){if(1&r&&(t.j41(0,"div",55),t.DNE(1,j,42,20,"div",56),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.paginatedInventory)}}function P(r,a){if(1&r){const o=t.RV6();t.j41(0,"button",92),t.bIt("click",function(){const n=l.eBV(o).$implicit,i=t.XpG(2);return l.Njj(i.goToPage(n))}),t.EFF(1),t.k0s()}if(2&r){const o=a.$implicit,e=t.XpG(2);t.AVh("bg-gradient-to-r",e.currentPage===o)("bg-gray-100",e.currentPage!==o)("from-emerald-400",e.currentPage===o)("hover:bg-gray-200",e.currentPage!==o)("shadow-md",e.currentPage===o)("text-gray-700",e.currentPage!==o)("text-white",e.currentPage===o)("to-teal-500",e.currentPage===o),t.R7$(),t.SpI(" ",o," ")}}function E(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",84)(1,"div",85),t.EFF(2," Showing "),t.j41(3,"span",86),t.EFF(4),t.k0s(),t.EFF(5," to "),t.j41(6,"span",86),t.EFF(7),t.k0s(),t.EFF(8," of "),t.j41(9,"span",86),t.EFF(10),t.k0s(),t.EFF(11," items "),t.k0s(),t.j41(12,"div",87)(13,"button",88),t.bIt("click",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.previousPage())}),t.nrm(14,"ion-icon",89),t.k0s(),t.j41(15,"div",31),t.DNE(16,P,2,17,"button",90),t.k0s(),t.j41(17,"button",88),t.bIt("click",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.nextPage())}),t.nrm(18,"ion-icon",91),t.k0s()()()}if(2&r){const o=t.XpG();t.R7$(4),t.SpI(" ",(o.currentPage-1)*o.itemsPerPage+1," "),t.R7$(3),t.SpI(" ",o.Math.min(o.currentPage*o.itemsPerPage,o.filteredInventory.length)," "),t.R7$(3),t.SpI(" ",o.filteredInventory.length," "),t.R7$(3),t.Y8G("disabled",1===o.currentPage),t.R7$(3),t.Y8G("ngForOf",o.pages),t.R7$(),t.Y8G("disabled",o.currentPage===o.totalPages)}}function T(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",93)(1,"div",94)(2,"div",95),t.nrm(3,"ion-icon",96),t.k0s(),t.j41(4,"h3",97),t.EFF(5,"No Inventory Items Found"),t.k0s(),t.j41(6,"p",98),t.EFF(7,"Get started by adding your first item"),t.k0s(),t.j41(8,"button",99),t.bIt("click",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.openAddModal())}),t.nrm(9,"ion-icon",100),t.EFF(10," Add New Item "),t.k0s()()()}}function C(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",101)(1,"div",102)(2,"div")(3,"h2",103),t.EFF(4,"Add Inventory Item"),t.k0s(),t.j41(5,"p",104),t.EFF(6,"Enter item details below"),t.k0s()(),t.j41(7,"button",105),t.bIt("click",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.closeAddModal())}),t.nrm(8,"ion-icon",106),t.k0s()(),t.j41(9,"div",107)(10,"form",108),t.bIt("ngSubmit",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.addItem())}),t.j41(11,"div",109)(12,"label",110),t.EFF(13,"Material Name"),t.k0s(),t.j41(14,"div",111)(15,"ion-item",112),t.nrm(16,"ion-input",113),t.k0s()()(),t.j41(17,"div",109)(18,"label",110),t.EFF(19,"Material Code"),t.k0s(),t.j41(20,"div",111)(21,"ion-item",112),t.nrm(22,"ion-input",114),t.k0s()()(),t.j41(23,"div",109)(24,"label",110),t.EFF(25,"Unit"),t.k0s(),t.j41(26,"div",111)(27,"ion-select",115)(28,"ion-select-option",116),t.EFF(29,"KG (Kilogram)"),t.k0s(),t.j41(30,"ion-select-option",117),t.EFF(31,"Liter"),t.k0s(),t.j41(32,"ion-select-option",118),t.EFF(33,"Piece"),t.k0s(),t.j41(34,"ion-select-option",119),t.EFF(35,"Meter"),t.k0s()()()(),t.j41(36,"div",120)(37,"div",109)(38,"label",110),t.EFF(39,"Quantity"),t.k0s(),t.j41(40,"div",111)(41,"ion-item",112),t.nrm(42,"ion-input",121),t.k0s()()(),t.j41(43,"div",109)(44,"label",110),t.EFF(45,"Min Threshold"),t.k0s(),t.j41(46,"div",111)(47,"ion-item",112),t.nrm(48,"ion-input",122),t.k0s()()()(),t.j41(49,"div",123)(50,"ion-button",124)(51,"span",125),t.EFF(52,"Add Item"),t.k0s()()()()()()}if(2&r){const o=t.XpG();t.R7$(10),t.Y8G("formGroup",o.addForm),t.R7$(40),t.Y8G("disabled",o.addForm.invalid)}}function R(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",101)(1,"div",102)(2,"div")(3,"h2",103),t.EFF(4,"Edit Inventory Item"),t.k0s(),t.j41(5,"p",104),t.EFF(6,"Update item details below"),t.k0s()(),t.j41(7,"button",105),t.bIt("click",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.closeEditModal())}),t.nrm(8,"ion-icon",106),t.k0s()(),t.j41(9,"div",107)(10,"form",108),t.bIt("ngSubmit",function(){l.eBV(o);const n=t.XpG();return l.Njj(n.updateItem())}),t.j41(11,"div",109)(12,"label",110),t.EFF(13,"Material Name"),t.k0s(),t.j41(14,"div",111)(15,"ion-item",112),t.nrm(16,"ion-input",113),t.k0s()()(),t.j41(17,"div",109)(18,"label",110),t.EFF(19,"Material Code"),t.k0s(),t.j41(20,"div",111)(21,"ion-item",112),t.nrm(22,"ion-input",114),t.k0s()()(),t.j41(23,"div",109)(24,"label",110),t.EFF(25,"Unit"),t.k0s(),t.j41(26,"div",111)(27,"ion-select",115)(28,"ion-select-option",116),t.EFF(29,"KG (Kilogram)"),t.k0s(),t.j41(30,"ion-select-option",117),t.EFF(31,"Liter"),t.k0s(),t.j41(32,"ion-select-option",118),t.EFF(33,"Piece"),t.k0s(),t.j41(34,"ion-select-option",119),t.EFF(35,"Meter"),t.k0s()()()(),t.j41(36,"div",120)(37,"div",109)(38,"label",110),t.EFF(39,"Quantity"),t.k0s(),t.j41(40,"div",111)(41,"ion-item",112),t.nrm(42,"ion-input",121),t.k0s()()(),t.j41(43,"div",109)(44,"label",110),t.EFF(45,"Min Threshold"),t.k0s(),t.j41(46,"div",111)(47,"ion-item",112),t.nrm(48,"ion-input",122),t.k0s()()()(),t.j41(49,"div",123)(50,"ion-button",126)(51,"span",125),t.EFF(52,"Update Item"),t.k0s()()()()()()}if(2&r){const o=t.XpG();t.R7$(10),t.Y8G("formGroup",o.editForm),t.R7$(40),t.Y8G("disabled",o.editForm.invalid)}}let f=(()=>{var r;class a{constructor(e,n,i){this.fb=e,this.modalCtrl=n,this.inventoryService=i,this.activeTab="all",this.searchTerm="",this.isAddModalOpen=!1,this.isEditModalOpen=!1,this.isLoading=!1,this.errorMessage="",this.selectedItem=null,this.currentPage=1,this.itemsPerPage=6,this.previewImage=null,this.selectedImageFile=null,this.inventory=[],this.Math=Math,this.addForm=this.fb.group({name:["",s.k0.required],materialCode:["",s.k0.required],unit:["KG",s.k0.required],quantity:[0,[s.k0.required,s.k0.min(0)]],minimumThreshold:[0,[s.k0.required,s.k0.min(0)]]}),this.editForm=this.fb.group({name:["",s.k0.required],materialCode:["",s.k0.required],unit:["KG",s.k0.required],quantity:[0,[s.k0.required,s.k0.min(0)]],minimumThreshold:[0,[s.k0.required,s.k0.min(0)]]})}ngOnInit(){this.loadInventory()}loadInventory(){this.isLoading=!0,this.errorMessage="",this.inventoryService.getAllItems().subscribe({next:e=>{this.inventory=e.map(n=>this.mapToDisplayItem(n)),this.isLoading=!1},error:e=>{console.error("Error loading inventory:",e),this.errorMessage="Failed to load inventory. Please check if the backend is running.",this.isLoading=!1}})}getImageUrlForItem(e,n){const i=e.toLowerCase().trim(),S="raw_material"===n?{steel:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",rod:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",metal:"https://images.unsplash.com/photo-1513828583688-c52646db42da?w=400&h=400&fit=crop",aluminum:"https://images.unsplash.com/photo-1513828583688-c52646db42da?w=400&h=400&fit=crop",copper:"https://images.unsplash.com/photo-1581092162562-40ff08a55b84?w=400&h=400&fit=crop",plastic:"https://images.unsplash.com/photo-1578926314433-beab894d83da?w=400&h=400&fit=crop","plastic pellets":"https://images.unsplash.com/photo-1578926314433-beab894d83da?w=400&h=400&fit=crop",resin:"https://images.unsplash.com/photo-1578926314433-beab894d83da?w=400&h=400&fit=crop",fabric:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=400&h=400&fit=crop",rubber:"https://images.unsplash.com/photo-1578926314433-beab894d83da?w=400&h=400&fit=crop",glass:"https://images.unsplash.com/photo-1551878745-acf28c019540?w=400&h=400&fit=crop",cement:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",wood:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",leather:"https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400&h=400&fit=crop",paint:"https://images.unsplash.com/photo-1578500494198-246f612d03b3?w=400&h=400&fit=crop",chemical:"https://images.unsplash.com/photo-1576091160550-112173faf976?w=400&h=400&fit=crop",yarn:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=400&h=400&fit=crop",wire:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop"}:{machine:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",pump:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",motor:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",gear:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",bearing:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",valve:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",pipe:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",fitting:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",fastener:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",bolt:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",screw:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop",electronic:"https://images.unsplash.com/photo-1518664006714-d8ca9d53ee8d?w=400&h=400&fit=crop",sensor:"https://images.unsplash.com/photo-1518664006714-d8ca9d53ee8d?w=400&h=400&fit=crop",controller:"https://images.unsplash.com/photo-1518664006714-d8ca9d53ee8d?w=400&h=400&fit=crop",switch:"https://images.unsplash.com/photo-1518664006714-d8ca9d53ee8d?w=400&h=400&fit=crop",component:"https://images.unsplash.com/photo-1518664006714-d8ca9d53ee8d?w=400&h=400&fit=crop",assembly:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop",circuit:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",board:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",tool:"https://images.unsplash.com/photo-1550355291-bbee04a92027?w=400&h=400&fit=crop",part:"https://images.unsplash.com/photo-1565043666747-69f6646db940?w=400&h=400&fit=crop"};for(const[N,Y]of Object.entries(S))if(i.includes(N))return Y;return"raw_material"===n?"https://images.unsplash.com/photo-1513828583688-c52646db42da?w=400&h=400&fit=crop":"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=400&fit=crop"}mapToDisplayItem(e){let n="in_stock";const i=!0===e.lowStock,c=e.minimumThreshold||0;0===e.quantity?n="out_of_stock":(i||e.quantity<=c)&&(n="low_stock");const p=e.category;return{...e,status:n,category:p,lowStock:i,materialCode:e.materialCode,minimumThreshold:c,imageUrl:this.getImageUrlForItem(e.name,p)}}get stats(){return{totalItems:this.inventory.length,rawMaterials:this.inventory.filter(e=>"raw_material"===e.category).length,finishedProducts:this.inventory.filter(e=>"finished_product"===e.category).length,lowStock:this.inventory.filter(e=>"low_stock"===e.status).length,outOfStock:this.inventory.filter(e=>"out_of_stock"===e.status).length,totalValue:this.inventory.reduce((e,n)=>e+(n.price??0)*n.quantity,0)}}get statCards(){return[{label:"Total Items",value:this.stats.totalItems},{label:"Raw Materials",value:this.stats.rawMaterials},{label:"Finished Products",value:this.stats.finishedProducts},{label:"Total Value",value:"\u20b9"+this.stats.totalValue.toFixed(2)}]}get paginatedInventory(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredInventory.slice(e,e+this.itemsPerPage)}get totalPages(){return Math.ceil(this.filteredInventory.length/this.itemsPerPage)}get pages(){return Array.from({length:this.totalPages},(e,n)=>n+1)}get showPagination(){return this.filteredInventory.length>this.itemsPerPage}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}resetPagination(){this.currentPage=1}get filteredInventory(){const e=this.searchTerm?.toLowerCase();return this.inventory.filter(n=>{const i=!e||n.name.toLowerCase().includes(e)||n.sku?.toLowerCase().includes(e)||n.description?.toLowerCase().includes(e);return"raw_material"===this.activeTab?i&&"raw_material"===n.category:"finished_product"===this.activeTab?i&&"finished_product"===n.category:i})}badgeClass(e){return{"badge-in-stock":"in_stock"===e,"badge-low-stock":"low_stock"===e,"badge-out-of-stock":"out_of_stock"===e}}onImageSelected(e){const n=e.target.files?.[0];if(!n)return;this.selectedImageFile=n;const i=new FileReader;i.onload=()=>this.previewImage=i.result,i.readAsDataURL(n)}openAddModal(){this.isAddModalOpen=!0}closeAddModal(){this.isAddModalOpen=!1,this.previewImage=null,this.selectedImageFile=null,this.addForm.reset({unit:"KG",quantity:0,minimumThreshold:0})}addItem(){this.addForm.invalid||this.inventoryService.createItem(this.addForm.value).subscribe({next:n=>{this.inventory.unshift(this.mapToDisplayItem(n)),this.resetPagination(),this.closeAddModal(),alert("Item added successfully!")},error:n=>{console.error(n),alert("Failed to create item.")}})}viewItem(e){alert(`Name: ${e.name}\nMaterial Code: ${e.materialCode}\nUnit: ${e.unit}\nQuantity: ${e.quantity}\nMin Threshold: ${e.minimumThreshold}`)}editItem(e){this.selectedItem=e,this.editForm.patchValue({name:e.name,materialCode:e.materialCode,unit:e.unit,quantity:e.quantity,minimumThreshold:e.minimumThreshold}),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.selectedItem=null,this.editForm.reset({unit:"KG",quantity:0,minimumThreshold:0})}updateItem(){!this.editForm.invalid&&this.selectedItem&&this.inventoryService.updateItem(this.selectedItem.id,this.editForm.value).subscribe({next:n=>{const i=this.inventory.findIndex(c=>c.id===this.selectedItem.id);-1!==i&&(this.inventory[i]=this.mapToDisplayItem(n)),this.closeEditModal(),alert("Item updated successfully!")},error:n=>{console.error(n),alert("Failed to update item.")}})}deleteItem(e,n){confirm("Are you sure you want to delete this item?")&&this.inventoryService.deleteItem(e,n).subscribe({next:()=>{this.inventory=this.inventory.filter(i=>i.id!==e),alert("Item deleted successfully!")},error:()=>alert("Delete failed")})}onSearchChange(e){this.searchTerm=e.target.value||"",this.resetPagination()}onActiveTabChange(e){this.activeTab=e,this.resetPagination()}refreshInventory(){this.loadInventory()}static#t=r=()=>(this.\u0275fac=function(n){return new(n||a)(t.rXU(s.ok),t.rXU(b.W3),t.rXU(x.c))},this.\u0275cmp=t.VBU({type:a,selectors:[["app-master-inventory"]],decls:54,vars:15,consts:[[1,"ion-no-border"],[1,"bg-white/80","backdrop-blur-md","border-b","border-slate-100","sticky","top-0","z-50"],["slot","start"],[1,"text-slate-600","hover:text-emerald-500","transition-colors"],[1,"text-slate-800","font-bold","tracking-tight","text-xl"],[1,"text-emerald-500"],["slot","end"],[1,"text-slate-500","hover:text-blue-500","transition-colors","bg-slate-50","rounded-full","w-10","h-10",3,"click"],["slot","icon-only","name","refresh-outline",1,"text-xl"],[1,"bg-slate-50"],[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50/50","to-emerald-50/30","pb-20"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"bg-gradient-to-r","from-emerald-400","via-teal-400","to-blue-500","rounded-3xl","shadow-lg","shadow-emerald-200/40","overflow-hidden","mb-8","relative"],[1,"absolute","top-0","right-0","-mr-16","-mt-16","w-64","h-64","rounded-full","bg-white/10","blur-3xl"],[1,"absolute","bottom-0","left-0","-ml-16","-mb-16","w-64","h-64","rounded-full","bg-blue-500/20","blur-3xl"],[1,"relative","px-8","py-8"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-6"],[1,"text-3xl","font-bold","text-white","mb-2","tracking-tight"],[1,"text-emerald-50","text-sm","font-medium","flex","items-center","gap-2","bg-white/10","w-fit","px-3","py-1","rounded-full","backdrop-blur-sm","border","border-white/20"],["name","cube-outline",1,"text-lg"],[1,"flex","flex-wrap","gap-3"],[1,"bg-white","text-emerald-600","font-bold","rounded-xl","shadow-lg","hover:shadow-xl","hover:scale-105","transition-all","duration-200","normal-case","tracking-normal","h-10",2,"--background","white","--color","#059669","--box-shadow","none",3,"click"],["slot","start","name","add-circle-outline"],["class","flex flex-col items-center justify-center py-20",4,"ngIf"],["class","bg-rose-50 border border-rose-200 rounded-2xl p-6 mb-8",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-100","p-5","mb-6"],[1,"flex","flex-col","lg:flex-row","gap-4","items-center"],[1,"flex-1","w-full","relative","group"],["name","search-outline",1,"absolute","left-4","top-1/2","transform","-translate-y-1/2","text-slate-400","text-lg","z-10","group-focus-within:text-emerald-500","transition-colors"],["type","text","placeholder","Search by name, SKU or description...",1,"w-full","bg-slate-50","hover:bg-white","focus:bg-white","text-slate-700","placeholder-slate-400","border","border-slate-200","focus:border-emerald-400","focus:ring-4","focus:ring-emerald-50","rounded-xl","py-3","pl-11","pr-4","outline-none","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"flex","gap-2"],[1,"px-4","py-3","rounded-xl","font-semibold","text-sm","transition-all","duration-200",3,"click"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","flex items-center justify-between mt-8 mb-8 px-4 py-4 bg-white rounded-2xl shadow-md",4,"ngIf"],["class","bg-white rounded-3xl shadow-sm border border-slate-100 p-20 text-center",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"shadow-lg",3,"click"],["name","add"],[1,"custom-modal",3,"didDismiss","isOpen"],[1,"flex","flex-col","items-center","justify-center","py-20"],["name","crescent",1,"text-emerald-500"],[1,"text-slate-500","mt-4","font-medium"],[1,"bg-rose-50","border","border-rose-200","rounded-2xl","p-6","mb-8"],[1,"flex","items-center","gap-3"],["name","alert-circle-outline",1,"text-rose-500","text-2xl"],[1,"text-rose-700","font-medium"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],["class","bg-white rounded-2xl p-6 shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-slate-100 hover:border-emerald-200 transition-all duration-300 group",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","p-6","shadow-[0_4px_20px_rgb(0,0,0,0.03)]","border","border-slate-100","hover:border-emerald-200","transition-all","duration-300","group"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-12","h-12","rounded-xl","bg-emerald-50","flex","items-center","justify-center","text-emerald-500","group-hover:scale-110","transition-transform"],["name","cube-outline",1,"text-2xl"],[1,"text-slate-500","text-xs","font-bold","uppercase","tracking-wider","mb-1"],[1,"text-2xl","font-bold","text-slate-800"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-2xl shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-slate-100 hover:shadow-xl hover:border-emerald-200 transition-all duration-300 overflow-hidden group",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","shadow-[0_4px_20px_rgb(0,0,0,0.03)]","border","border-slate-100","hover:shadow-xl","hover:border-emerald-200","transition-all","duration-300","overflow-hidden","group"],[1,"relative","overflow-hidden","bg-slate-100","h-48"],[1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-300",3,"src"],[1,"absolute","top-3","right-3"],[1,"px-3","py-1","rounded-full","text-xs","font-bold","uppercase","tracking-wide",3,"ngClass"],[1,"p-6"],[1,"mb-4"],[1,"text-lg","font-bold","text-slate-800","mb-1"],[1,"text-xs","font-mono","text-slate-500","bg-slate-50","px-2","py-1","rounded","inline-block","border","border-slate-200"],[1,"grid","grid-cols-2","gap-3","mb-4"],[1,"bg-slate-50","rounded-lg","p-3","border","border-slate-100"],[1,"text-xs","text-slate-500","font-bold","uppercase","mb-1"],[1,"text-lg","font-bold","text-slate-800"],[1,"bg-amber-50","rounded-lg","p-3","border","border-amber-100","mb-4"],[1,"text-xs","text-amber-600","font-bold","uppercase","mb-1"],[1,"text-lg","font-bold","text-amber-700"],[1,"flex","flex-wrap","gap-2","mb-4"],[1,"px-3","py-1","rounded-lg","text-xs","font-bold",3,"ngClass"],["class","px-3 py-1 rounded-lg text-xs font-bold bg-amber-50 text-amber-700 border border-amber-200 flex items-center gap-1",4,"ngIf"],[1,"flex-1","px-4","py-2","bg-slate-100","hover:bg-slate-200","text-slate-700","font-semibold","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["name","eye-outline"],[1,"flex-1","px-4","py-2","bg-blue-50","hover:bg-blue-100","text-blue-600","font-semibold","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["name","create-outline"],[1,"px-4","py-2","bg-rose-50","hover:bg-rose-100","text-rose-600","font-semibold","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["name","trash-outline"],[1,"px-3","py-1","rounded-lg","text-xs","font-bold","bg-amber-50","text-amber-700","border","border-amber-200","flex","items-center","gap-1"],["name","warning-outline"],[1,"flex","items-center","justify-between","mt-8","mb-8","px-4","py-4","bg-white","rounded-2xl","shadow-md"],[1,"text-sm","text-gray-600","font-medium"],[1,"font-bold","text-emerald-600"],[1,"flex","items-center","gap-2"],[1,"px-4","py-2.5","bg-gray-100","hover:bg-gray-200","rounded-xl","transition-all","disabled:opacity-40","disabled:cursor-not-allowed","font-medium","text-gray-700",3,"click","disabled"],["name","chevron-back-outline"],["class","min-w-[44px] px-4 py-2.5 rounded-xl transition-all font-bold text-sm",3,"bg-gradient-to-r","bg-gray-100","from-emerald-400","hover:bg-gray-200","shadow-md","text-gray-700","text-white","to-teal-500","click",4,"ngFor","ngForOf"],["name","chevron-forward-outline"],[1,"min-w-[44px]","px-4","py-2.5","rounded-xl","transition-all","font-bold","text-sm",3,"click"],[1,"bg-white","rounded-3xl","shadow-sm","border","border-slate-100","p-20","text-center"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-20","h-20","bg-slate-100","rounded-full","flex","items-center","justify-center","shadow-sm","mb-4"],["name","cube-outline",1,"text-4xl","text-slate-300"],[1,"text-lg","font-bold","text-slate-700","mb-1"],[1,"text-slate-500","mb-6"],[1,"px-6","py-3","bg-gradient-to-r","from-emerald-400","to-blue-500","text-white","font-bold","rounded-xl","shadow-lg","hover:shadow-xl","transition-all",3,"click"],["name","add-circle-outline",1,"mr-2"],[1,"h-full","bg-slate-50","overflow-y-auto"],[1,"sticky","top-0","z-10","bg-white/80","backdrop-blur-md","border-b","border-slate-100","px-6","py-4","flex","items-center","justify-between"],[1,"text-xl","font-bold","text-slate-800"],[1,"text-xs","text-slate-500"],[1,"p-2","bg-slate-100","rounded-full","hover:bg-slate-200","transition-colors",3,"click"],["name","close-outline",1,"text-xl","text-slate-600"],[1,"max-w-xl","mx-auto","p-6","pb-20"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"group"],[1,"block","text-xs","font-bold","text-slate-500","uppercase","tracking-wider","mb-2","ml-1"],[1,"relative","bg-white","rounded-xl","border","border-slate-200","focus-within:border-emerald-400","focus-within:ring-4","focus-within:ring-emerald-50","transition-all"],["lines","none",1,"bg-transparent","rounded-xl",2,"--background","transparent","--padding-start","0","--inner-padding-end","0"],["type","text","formControlName","name","placeholder","e.g. Steel Rods",1,"px-4","py-2","text-slate-900"],["type","text","formControlName","materialCode","placeholder","e.g. MAT-001",1,"px-4","py-2","text-slate-900","font-mono"],["formControlName","unit","placeholder","Select Unit","interface","popover",1,"w-full","px-4","py-3","text-slate-900","font-medium"],["value","KG"],["value","LITER"],["value","PIECE"],["value","METER"],[1,"grid","grid-cols-2","gap-4"],["type","number","formControlName","quantity","placeholder","0",1,"px-4","py-3","text-lg","font-bold","text-slate-800"],["type","number","formControlName","minimumThreshold","placeholder","0",1,"px-4","py-3","text-lg","font-bold","text-slate-800"],[1,"pt-6"],["expand","block","type","submit",1,"h-14","font-bold","rounded-2xl","overflow-hidden","shadow-lg","shadow-emerald-200/50",2,"--background","linear-gradient(135deg, #34d399 0%, #0ea5e9 100%)","--border-radius","16px","--box-shadow","none",3,"disabled"],[1,"text-white","text-lg","tracking-wide"],["expand","block","type","submit",1,"h-14","font-bold","rounded-2xl","overflow-hidden","shadow-lg","shadow-blue-200/50",2,"--background","linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)","--border-radius","16px","--box-shadow","none",3,"disabled"]],template:function(n,i){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-menu-button",3),t.k0s(),t.j41(4,"ion-title",4)(5,"span",5),t.EFF(6,"Master"),t.k0s(),t.EFF(7," Inventory "),t.k0s(),t.j41(8,"ion-buttons",6)(9,"ion-button",7),t.bIt("click",function(){return i.refreshInventory()}),t.nrm(10,"ion-icon",8),t.k0s()()()(),t.j41(11,"ion-content",9)(12,"div",10)(13,"div",11)(14,"div",12),t.nrm(15,"div",13)(16,"div",14),t.j41(17,"div",15)(18,"div",16)(19,"div")(20,"h1",17),t.EFF(21,"Inventory Overview"),t.k0s(),t.j41(22,"p",18),t.nrm(23,"ion-icon",19),t.EFF(24," Real-time Stock Monitoring "),t.k0s()(),t.j41(25,"div",20)(26,"ion-button",21),t.bIt("click",function(){return i.openAddModal()}),t.nrm(27,"ion-icon",22),t.EFF(28," Add New Item "),t.k0s()()()()(),t.DNE(29,w,4,0,"div",23)(30,y,5,1,"div",24)(31,F,2,1,"div",25),t.j41(32,"div",26)(33,"div",27)(34,"div",28),t.nrm(35,"ion-icon",29),t.j41(36,"input",30),t.mxI("ngModelChange",function(p){return t.DH7(i.searchTerm,p)||(i.searchTerm=p),p}),t.k0s()(),t.j41(37,"div",31)(38,"button",32),t.bIt("click",function(){return i.activeTab="all"}),t.EFF(39," All "),t.k0s(),t.j41(40,"button",32),t.bIt("click",function(){return i.activeTab="raw_material"}),t.EFF(41," Raw Material "),t.k0s(),t.j41(42,"button",32),t.bIt("click",function(){return i.activeTab="finished_product"}),t.EFF(43," Finished Product "),t.k0s()()()(),t.DNE(44,M,2,1,"div",33)(45,E,19,6,"div",34)(46,T,11,0,"div",35),t.k0s()(),t.j41(47,"ion-fab",36)(48,"ion-fab-button",37),t.bIt("click",function(){return i.openAddModal()}),t.nrm(49,"ion-icon",38),t.k0s()(),t.j41(50,"ion-modal",39),t.bIt("didDismiss",function(){return i.closeAddModal()}),t.DNE(51,C,53,2,"ng-template"),t.k0s(),t.j41(52,"ion-modal",39),t.bIt("didDismiss",function(){return i.closeEditModal()}),t.DNE(53,R,53,2,"ng-template"),t.k0s()()),2&n&&(t.R7$(29),t.Y8G("ngIf",i.isLoading),t.R7$(),t.Y8G("ngIf",i.errorMessage),t.R7$(),t.Y8G("ngIf",!i.isLoading),t.R7$(5),t.R50("ngModel",i.searchTerm),t.R7$(2),t.HbH("all"===i.activeTab?"bg-emerald-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"),t.R7$(2),t.HbH("raw_material"===i.activeTab?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"),t.R7$(2),t.HbH("finished_product"===i.activeTab?"bg-purple-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"),t.R7$(2),t.Y8G("ngIf",i.filteredInventory.length>0),t.R7$(),t.Y8G("ngIf",i.showPagination),t.R7$(),t.Y8G("ngIf",!i.isLoading&&0===i.filteredInventory.length),t.R7$(4),t.Y8G("isOpen",i.isAddModalOpen),t.R7$(2),t.Y8G("isOpen",i.isEditModalOpen))},dependencies:[u.MD,u.YU,u.Sq,u.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.vS,s.X1,s.j4,s.JD,d.eU,d.ai,d.BC,d.W9,d.uz,d.iq,d.Jm,d.QW,d.MC,d.Sb,d.$w,d.w2,d.Q8,d.YW,d.Nm,d.Ip,u.Pc],styles:[".page-content[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px}.page-inner[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{padding:12px;border-radius:12px;background:#f8f9fc;text-align:left}.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:6px 0 0;font-size:1.25rem}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 700px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}.controls[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-bottom:16px;flex-wrap:wrap}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:14px}.product-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;--background: #ffffff;box-shadow:0 1px 3px #00000014;transition:transform .2s ease}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.product-img[_ngcontent-%COMP%]{width:100%;height:140px;object-fit:cover;background:#e9e9e9}.info-row[_ngcontent-%COMP%]{font-size:13px;margin-bottom:4px}.card-actions[_ngcontent-%COMP%]{text-align:center;padding-bottom:10px;display:flex;justify-content:center;gap:2px}.badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-size:11px;text-transform:capitalize}.badge-in-stock[_ngcontent-%COMP%]{background:#e6ffef;color:#087f3b}.badge-low-stock[_ngcontent-%COMP%]{background:#fff7e6;color:#b46300}.badge-out-of-stock[_ngcontent-%COMP%]{background:#ffe6e6;color:#b91c1c}.img-preview[_ngcontent-%COMP%]{margin-top:12px;width:100%;text-align:center}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px;max-height:200px;object-fit:cover;box-shadow:0 2px 6px #00000026}.add-modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding:12px}"]}))}return r(),a})();const G=[{path:"",component:f}];let $=(()=>{var r;class a{static#t=r=()=>(this.\u0275fac=function(n){return new(n||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=l.G2t({imports:[g.iI.forChild(G),g.iI]}))}return r(),a})(),O=(()=>{var r;class a{static#t=r=()=>(this.\u0275fac=function(n){return new(n||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=l.G2t({imports:[u.MD,s.YN,g.iI,b.bv,$,f]}))}return r(),a})()}}]);