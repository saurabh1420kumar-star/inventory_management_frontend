"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(M,m,s)=>{s.r(m),s.d(m,{LoginPageModule:()=>C});var p=s(2200),a=s(9417),c=s(7343),f=s(8132),h=s(467),t=s(3664),d=s(2615),x=s(5752),b=s(5935),w=s(3205);function v(o,e){1&o&&(t.j41(0,"p",29),t.nrm(1,"ion-icon",30),t.EFF(2," Username is required "),t.k0s())}function y(o,e){1&o&&(t.j41(0,"p",29),t.nrm(1,"ion-icon",30),t.EFF(2," Password is required "),t.k0s())}function P(o,e){1&o&&(t.qex(0),t.nrm(1,"ion-spinner",31),t.j41(2,"span",32),t.EFF(3,"Signing in..."),t.k0s(),t.bVm())}function k(o,e){1&o&&(t.j41(0,"span",33),t.EFF(1,"Sign In"),t.k0s())}const F=[{path:"",component:(()=>{var o;class e{constructor(r,l,n,g){this.fb=r,this.toast=l,this.router=n,this.auth=g,this.showPassword=!1,this.loading=!1,this.loginForm=this.fb.group({username:["",[a.k0.required,a.k0.minLength(3)]],password:["",[a.k0.required,a.k0.minLength(6)]]})}get f(){return this.loginForm.controls}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){var r=this;if(this.loginForm.markAllAsTouched(),this.loginForm.invalid)return void this.toast.present("Please correct the errors in the form","warning");const{username:l,password:n}=this.loginForm.value;var g;this.loading=!0,this.auth.login(l,n).subscribe({next:(g=(0,h.A)(function*(i){r.loading=!1,yield r.toast.present(i.message||"Login successful","success"),r.navigateByRole(i.roleType)}),function(u){return g.apply(this,arguments)}),error:function(){var g=(0,h.A)(function*(i){r.loading=!1,console.error("Login error:",i);const u=i?.error?.message||i?.error?.error;u?yield r.toast.present(u,"warning"):401===i.status||403===i.status?yield r.toast.present("Invalid username or password","warning"):yield r.toast.present("Something went wrong. Please try again.","danger")});return function(u){return g.apply(this,arguments)}}()})}navigateByRole(r){this.router.navigateByUrl("SUPER_ADMIN"===r?"/pending-approvals":"/dashboard",{replaceUrl:!0})}goToSignup(){this.router.navigateByUrl("/signup")}forgotPassword(){console.log("Forgot password clicked")}static#t=o=()=>(this.\u0275fac=function(l){return new(l||e)(t.rXU(a.ok),t.rXU(x.y),t.rXU(b.Ix),t.rXU(w.N))},this.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],decls:41,vars:8,consts:[["showText",""],[1,"bg-slate-50"],[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-slate-50","via-blue-50","to-emerald-50","p-6"],[1,"w-full","max-w-md","bg-white/80","backdrop-blur-xl","rounded-3xl","shadow-[0_8px_30px_rgb(0,0,0,0.04)]","border","border-white/50","overflow-hidden"],[1,"pt-12","pb-8","px-8","text-center"],[1,"inline-flex","items-center","justify-center","w-30","h-30","bg-gradient-to-tr","rounded-2xl","shadow-xl","shadow-emerald-250/100","mb-6","transform","-rotate-3","hover:rotate-0","transition-transform","duration-300"],["src","assets/images/nectar.jpeg","alt","Nectar Logo",1,"w-30","h-30","object-contain","rotate-3","hover:rotate-0","rounded-2xl","shadow-lg","shadow-emerald-300/100","transform-rotate-3","transition-transform","duration-300"],[1,"text-3xl","font-bold","text-slate-800","tracking-tight"],[1,"text-slate-500","font-medium","mt-2","text-sm"],[1,"px-8","pb-12"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"group"],[1,"block","text-xs","font-bold","text-slate-500","uppercase","tracking-wider","mb-2","ml-1"],[1,"relative","bg-slate-50","rounded-xl","border","border-slate-200","focus-within:bg-white","focus-within:border-emerald-400","focus-within:ring-4","focus-within:ring-emerald-50","transition-all","duration-300","ease-in-out"],["lines","none",1,"bg-transparent","rounded-xl",2,"--background","transparent","--padding-start","0","--inner-padding-end","0"],["type","text","placeholder","Enter your username","formControlName","username",1,"px-5","py-2","!text-slate-900","custom-input"],["class","mt-2 text-xs font-medium text-rose-500 flex items-center ml-1 animate-fade-in",4,"ngIf"],[1,"relative","bg-slate-50","rounded-xl","border","border-slate-200","focus-within:bg-white","focus-within:border-emerald-400","focus-within:ring-4","focus-within:ring-emerald-50","transition-all","duration-300"],["placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"px-5","py-2","!text-slate-900","custom-input",3,"type"],["slot","end","fill","clear",1,"mr-2","text-slate-400","hover:text-emerald-500","transition-colors",3,"click"],["slot","icon-only",3,"name"],[1,"flex","justify-end"],["type","button",1,"text-sm","font-semibold","text-emerald-600","hover:text-emerald-700","transition-colors","focus:outline-none","hover:underline",3,"click"],[1,"pt-2"],["expand","block","type","submit",1,"h-14","font-bold","rounded-2xl","overflow-hidden","shadow-lg","shadow-emerald-200/50",2,"--background","linear-gradient(135deg, #34d399 0%, #0ea5e9 100%)","--border-radius","16px","--box-shadow","none",3,"disabled"],[4,"ngIf","ngIfElse"],[1,"text-center","pt-4"],[1,"text-slate-500","text-sm"],["type","button",1,"font-bold","text-emerald-600","hover:text-emerald-700","ml-1","transition-colors","hover:underline",3,"click"],[1,"mt-2","text-xs","font-medium","text-rose-500","flex","items-center","ml-1","animate-fade-in"],["name","alert-circle-outline",1,"mr-1","text-base"],["name","crescent",1,"mr-2","text-white"],[1,"text-white"],[1,"text-white","text-lg","tracking-wide"]],template:function(l,n){if(1&l){const g=t.RV6();t.j41(0,"ion-content",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),t.nrm(5,"img",6),t.k0s(),t.j41(6,"h1",7),t.EFF(7,"Nectar"),t.k0s(),t.j41(8,"p",8),t.EFF(9,"Inventory Management System"),t.k0s()(),t.j41(10,"div",9)(11,"form",10),t.bIt("ngSubmit",function(){return d.eBV(g),d.Njj(n.onSubmit())}),t.j41(12,"div",11)(13,"label",12),t.EFF(14,"Username"),t.k0s(),t.j41(15,"div",13)(16,"ion-item",14),t.nrm(17,"ion-input",15),t.k0s()(),t.DNE(18,v,3,0,"p",16),t.k0s(),t.j41(19,"div",11)(20,"label",12),t.EFF(21,"Password"),t.k0s(),t.j41(22,"div",17)(23,"ion-item",14),t.nrm(24,"ion-input",18),t.j41(25,"ion-button",19),t.bIt("click",function(){return d.eBV(g),d.Njj(n.togglePasswordVisibility())}),t.nrm(26,"ion-icon",20),t.k0s()()(),t.DNE(27,y,3,0,"p",16),t.k0s(),t.j41(28,"div",21)(29,"button",22),t.bIt("click",function(){return d.eBV(g),d.Njj(n.forgotPassword())}),t.EFF(30," Forgot password? "),t.k0s()(),t.j41(31,"div",23)(32,"ion-button",24),t.DNE(33,P,4,0,"ng-container",25)(34,k,2,0,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(36,"div",26)(37,"p",27),t.EFF(38," Don't have an account? "),t.j41(39,"button",28),t.bIt("click",function(){return d.eBV(g),d.Njj(n.goToSignup())}),t.EFF(40," Create one "),t.k0s()()()()()()()()}if(2&l){const g=t.sdS(35);t.R7$(11),t.Y8G("formGroup",n.loginForm),t.R7$(7),t.Y8G("ngIf",n.loginForm.controls.username.touched&&n.loginForm.controls.username.invalid),t.R7$(6),t.Y8G("type",n.showPassword?"text":"password"),t.R7$(2),t.Y8G("name",n.showPassword?"eye-off-outline":"eye-outline"),t.R7$(),t.Y8G("ngIf",n.loginForm.controls.password.touched&&n.loginForm.controls.password.invalid),t.R7$(5),t.Y8G("disabled",n.loginForm.invalid||n.loading),t.R7$(),t.Y8G("ngIf",n.loading)("ngIfElse",g)}},dependencies:[p.MD,p.bT,c.bv,c.Jm,c.W9,c.iq,c.$w,c.uz,c.w2,c.Gw,a.X1,a.qT,a.BC,a.cb,a.j4,a.JD],styles:["ion-content[_ngcontent-%COMP%]{--background: radial-gradient(circle at top left, #3880ff1a, transparent), radial-gradient(circle at bottom right, #0cd1e81a, transparent), var(--ion-color-light)}.error-text[_ngcontent-%COMP%]{color:red;font-size:13px;margin:4px 0 12px 10px}.forgot-wrapper[_ngcontent-%COMP%], .signup-text[_ngcontent-%COMP%]{margin-top:10px;text-align:right}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--ion-color-primary);font-weight:500;font-size:14px}.login-wrapper[_ngcontent-%COMP%]{min-height:100%;display:flex;align-items:center;justify-content:center}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;box-shadow:0 20px 40px #0000001f}.logo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:12px}.logo-avatar[_ngcontent-%COMP%]{--border-radius: 16px;background:var(--ion-color-primary);display:flex;align-items:center;justify-content:center}.logo-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:32px}.app-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.app-subtitle[_ngcontent-%COMP%]{font-size:14px}.password-row[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.password-row[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex:1}.forgot-wrapper[_ngcontent-%COMP%]{margin-top:8px;text-align:right}.link-button[_ngcontent-%COMP%]{border:none;background:none;padding:0;color:var(--ion-color-primary);font-size:13px;cursor:pointer}.submit-wrapper[_ngcontent-%COMP%]{margin-top:20px}.signup-text[_ngcontent-%COMP%]{margin-top:12px;font-size:13px;text-align:center;opacity:.9}.signup-text[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{margin-left:4px;font-weight:600}.toast-right[_ngcontent-%COMP%]{position:fixed!important;top:10px!important;right:10px!important;left:auto!important;margin:0!important;transform:none!important;width:auto;z-index:9999}.required[_ngcontent-%COMP%]{color:#e00000;font-weight:700;margin-left:3px}"]}))}return o(),e})()}];let j=(()=>{var o;class e{static#t=o=()=>(this.\u0275fac=function(l){return new(l||e)},this.\u0275mod=t.$C({type:e}),this.\u0275inj=d.G2t({imports:[f.iI.forChild(F),f.iI]}))}return o(),e})(),C=(()=>{var o;class e{static#t=o=()=>(this.\u0275fac=function(l){return new(l||e)},this.\u0275mod=t.$C({type:e}),this.\u0275inj=d.G2t({imports:[p.MD,a.YN,c.bv,a.X1,j]}))}return o(),e})()}}]);